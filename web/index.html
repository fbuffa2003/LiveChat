<!DOCTYPE html>
<html lang=en>
    <head>
        <title>Sample App</title>
        <script src="//code.jquery.com/jquery-2.2.4.min.js"></script>
        <script src="//cdn.livechatinc.com/boilerplate/1.0.js"></script>
       
        <link rel="stylesheet" href="//cdn.livechatinc.com/boilerplate/1.0.css">
   
        <script type="text/javascript">
            function getPropertyValue(data, propertyName) {
                return undefined === data[propertyName] ? '' : data[propertyName];
            }
            LiveChat.on("customer_profile", function(data) {
                $('#visitorID').html(getPropertyValue(data, 'id'));
                $('#visitorName').html(getPropertyValue(data, 'name'));
                $('#visitorEmail').html(getPropertyValue(data, 'email'));
                $('#chatID').html(getPropertyValue(data.chat, 'id'));
                $('#groupID').html(getPropertyValue(data.chat, 'groupID'));
                $('#BpmUrl').html(getPropertyValue(data.chat, 'BpmUrl'));
                 
            });
           LiveChat.init();
        </script>
  
    </head>
    <body>
        
                 <script type="text/javascript">
           
           
       
      $(document).ready(function () {
            $.ajax({
 headers: {
        'X-Auth-Token' : token
   },
                url: "https://0384564-sales-enterprise-marketing-service-enterprise-demo.bpmonline.com/ServiceModel/AuthService.svc/Login",
                contentType: 'application/json',
                type: "POST",
                data: {
                "UserName":"Administrator 2",
                "UserPassword":"Administrator 2", 
                 },
            dataType: "json",
             processData:  false,
            async:        false,
            beforeSend: function (request)
            {
                request.setRequestHeader("Access-Control-Allow-Origin", "*");
                request.setRequestHeader("Access-Control-Allow-Methods", "POST, GET, PUT, UPDATE, OPTIONS");
                request.setRequestHeader("Access-Control-Allow-Headers", "Content-Type, Accept, X-Requested-With");
            },
            success: function (response) {
               
                alert(response);
            },
            error: function (xhr, status) {
                alert("error");
            }
              
            });
           }); 
       
     
         </script>

        
        
        
        
        
        
         <script type="text/javascript">
           
           
       
      $(document).ready(function () {
            $.ajax({

                url: "https://0384564-sales-enterprise-marketing-service-enterprise-demo.bpmonline.com/0/ServiceModel/EntityDataService.svc/ContactCollection?$filter=Id%20eq%20guid%279117252a-996b-427f-999a-8d7b5d03feda%27",
                contentType: 'application/json',
                type: "GET",
                crossDomain: true,
            dataType: "xml",
            success: function (response) {
                
                alert(response);
            },
            error: function (xhr, status) {
                alert("error");
            }
              
            });

           }); 
       
     

         </script>
   
        
        <div class="chat-plugin" id="chatPluginContainer">
            <ul class="chat-plugin__menu">
                <li class="chat-plugin__menu__item chat-plugin__menu__item--active"><a href=""><span class="app-icon app-icon-dashboard" title="Contact"></span></a></li>
            </ul>
            <section class="chat-plugin__content">
                <div class="chat-plugin__content--centered">
                    <p class="chat-plugin__p">
                     Hola!<br/>Seleccione un chat para ver el detalle.
                    </p>
                </div>
                <dl class="chat-plugin__dl">
                    <dt>Visitor ID</dt>
                    <dd id="visitorID"></dd>
                    <dt>Visitor Name</dt>
                    <dd id="visitorName"></dd>
                    <dt>Visitor Email</dt>
                    <dd id="visitorEmail"></dd>
                    <dt>Chat ID</dt>
                    <dd id="chatID"></dd>
                    <dt>Group ID</dt>
                    <dd id="groupID"></dd>
                    <dt>Bpm-Online URL</dt>
                    <dd id="visitorID"><a target="_blank" href="https://0384564-sales-enterprise-marketing-service-enterprise-demo.bpmonline.com/0/Nui/ViewModule.aspx#CardModuleV2/ContactPageV2/edit/a6f14ab1-5ab9-4c85-9c40-8cf5560919cc">Detalle Contacto</a></dd>
                </dl>
            </section>
        </div>
    </body>
</html>
